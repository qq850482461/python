{% extends 'base.html' %}
{% import 'bootstrap/wtf.html' as wtf %}

{% block head %}
    {{ super() }}
    <!--引用jq-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.12.4/jquery.min.js" type="text/javascript"></script>
    <!--开启editormd的图片上传功能-->
    <script>
        var testEditor;
        $(function () {
            testEditor = editormd("test-editormd", {
                width: "100%",
                height: '830px',
                syncScrolling: "single",
                path: "{{url_for('static',filename='editormd/lib/')}}",
                //启动本地图片上传功能
                imageUpload: true,
                imageFormats: ["jpg", "jpeg", "gif", "png", "bmp", "webp"],
                imageUploadURL: "{{url_for('main.upload')}}"
            });
        })
    </script>
{% endblock %}

{% block styles %}
    {{ super() }}
    <!--editormd的css-->
    <link rel="stylesheet" href="{{ url_for('static',filename='css/editormd.min.css') }}">
{% endblock %}

{% block scripts %}
    {{ super() }}
    {#pagedown预览需要写入Javascript再通过(only_preview=True)实现时时预览#}
    {#    {{ pagedown.include_pagedown() }}#}
    <!--editormd的JS-->
    <script src="{{ url_for('static',filename='js/editormd.min.js') }}"></script>
{% endblock %}

{% block content %}
    <div class="container-fluid">
        <form method="post">
            {{ form.hidden_tag() }}
            <div class="form-group">
                <div class="row">
                    <div class="col-md-8">
                        {{ form.title(class="input-group", placeholder=("文章标题"),style="width:100%;background-color:transparent;height:60px;font-size:40px") }}
                    </div>
                    <div class="col-md-3">
                        {{ form.tag(class="input-group",placeholder=("标签"),style="width:100%;background-color:transparent;height:60px;font-size:40px") }}
                    </div>
                    <div class="col-md-1">
                        {{ form.submit(class="btn btn-success",style="width:100%;height:60px;") }}
                    </div>
                </div>
            </div>
            <div id="test-editormd" class="form-group">
                {{ form.body(style="display:none;" ) }}
            </div>
        </form>

{#                        <div class="page-header">#}
{#                            <h1>发表文章</h1>#}
{#                        </div>#}
{#                        <div class="edit_article">#}
{#                            <div class="col-md-6">#}
{#                                <form method="POST" class="form" role="form">#}
{#                 防止表单跨域攻击#}
{#                                    {{ form.hidden_tag() }}#}
{#                                    <div class="form-group">#}
{#                                        {{ form.title(class="form-control", placeholder=("请输入文章标题")  ) }}#}
{#                                    </div>#}
{#                                    <div class="form-group">#}
{#                                        {{ form.tag(class="form-control", placeholder=("请输入文章标签")) }}#}
{#                                    </div>#}
{#                                    <div class="form-group">#}
{#                                        {{ form.body(only_input=True,rows=20,class="form-control") }}#}
{#                                    </div>#}
{#                                    <div class="form-group">#}
{#                                        {{ form.submit(class="btn btn-primary") }}#}
{#                                    </div>#}
{#                                </form>#}
{#                            </div>#}
{#                            <div class="col-md-6">#}
{#                                <div>#}
{#                                    {{ form.body(only_preview=True) }}#}
{#                                </div>#}
{#                            </div>#}
{#                        </div>#}
    </div>
{% endblock %}